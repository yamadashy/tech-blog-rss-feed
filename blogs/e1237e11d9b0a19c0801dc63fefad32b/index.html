<!doctype html><html lang="ja"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="企業のテックブログの更新をまとめたRSSフィードを配信しています。記事を読んでその企業の技術・カルチャーを知れることや、質の高い技術情報を得られることを目的としています。"><meta name="author" content="yamadashy"><meta name="robots" content="index, follow"><meta property="og:url" content="https://yamadashy.github.io/tech-blog-rss-feed/"><meta property="og:title" content="Cluster Tech Blogのフィード｜企業テックブログRSS"><meta property="og:image" content="https://yamadashy.github.io/tech-blog-rss-feed/images/og-image.png"><meta property="og:description" content="企業のテックブログの更新をまとめたRSSフィードを配信しています。記事を読んでその企業の技術・カルチャーを知れることや、質の高い技術情報を得られることを目的としています。"><meta property="og:type" content="website"><meta property="og:site_name" content="企業テックブログRSS"><meta property="og:locale" content="ja_JP"><meta name="twitter:card" content="summary"><meta property="twitter:domain" content="https://yamadashy.github.io/tech-blog-rss-feed/"><meta 
property="twitter:url" content="https://yamadashy.github.io/tech-blog-rss-feed/"><meta name="twitter:title" content="Cluster Tech Blogのフィード｜企業テックブログRSS"><meta name="twitter:description" content="企業のテックブログの更新をまとめたRSSフィードを配信しています。記事を読んでその企業の技術・カルチャーを知れることや、質の高い技術情報を得られることを目的としています。"><meta name="twitter:image" content="https://yamadashy.github.io/tech-blog-rss-feed/images/og-image.png"><meta name="thumbnail" content="https://yamadashy.github.io/tech-blog-rss-feed/images/og-image.png"><link rel="preload" href="../../styles/bundle.css" as="style"><meta name="google-site-verification" content="GPLvXv8kYtLMW912ZS54DKFEZL6ruOrjOFLdHVTo37o"><link rel="shortcut icon" href="../../images/favicon.ico"><link rel="apple-touch-icon" href="../../images/apple-icon.png"><link rel="alternate" type="application/atom+xml" title="Atom Feed" href="../../feeds/atom.xml"><link rel="alternate" type="application/rss+xml" title="RSS2.0" href="../../feeds/rss.xml"><link rel="alternate" type="application/json" 
href="../../feeds/feed.json"><link rel="stylesheet" type="text/css" href="../../styles/bundle.css"><script async src="https://www.googletagmanager.com/gtag/js?id=G-CNNNTL0NB3"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-CNNNTL0NB3")</script><title>Cluster Tech Blogのフィード｜企業テックブログRSS</title></head><body><header role="banner" class="ui-section-header"><div class="ui-layout-container"><div class="ui-section-header__layout ui-layout-flex"><a href="https://yamadashy.github.io/tech-blog-rss-feed/" role="link" aria-label="#"><img src="../../images/icon.png" alt="サイトロゴ" loading="eager" width="96" height="96"> <span class="ui-section-header__title">企業テックブログRSS</span></a><div class="ui-section-header__links"><a href="https://github.com/yamadashy/tech-blog-rss-feed/" role="link" aria-label="#" target="_blank"><img src="../../images/icon-github.png" alt="GitHubロゴ" loading="eager" width="96" height="96"> </a><a
 href="https://x.com/yamadashy" role="link" aria-label="#" target="_blank"><img src="../../images/icon-x.png" alt="Xロゴ" loading="eager" width="96" height="96"></a></div></div></div></header><main role="main"><nav class="ui-nav"><div class="ui-layout-container"><div class="ui-section-nav__layout ui-layout-flex"><a class="ui-section-nav__link" href="../../">フィード</a> <a class="ui-section-nav__link" href="../../hot/">人気フィード</a> <a class="ui-section-nav__link" href="../../blogs/">ブログ一覧</a></div></div></nav><section class="ui-section-content ui-section-feed"><div class="ui-layout-container"><h2 class="ui-typography-heading">Cluster Tech Blog</h2><div class="ui-container-blog-summary"><div class="ui-blog-summary"><a class="ui-blog-summary__link" href="https://tech-blog.cluster.mu/">https://tech-blog.cluster.mu/</a><p class="ui-blog-summary__description">Cluster Tech Blog</p></div></div><h3 class="ui-typography-heading">フィード</h3><div 
class="ui-section-content--feature ui-layout-grid ui-layout-grid-3 ui-container-feed ui-container-feed--no-image"><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2025/12/26"><picture><source type="image/avif" srcset="../../images/feed-thumbnails/mk6Pdnxf55-256.avif 256w, ../../images/feed-thumbnails/mk6Pdnxf55-512.avif 512w" sizes="(min-width: 75rem) 16rem, (min-width: 64rem) 19rem, (min-width: 48rem) 19rem, 8rem"><img alt="記事のアイキャッチ画像" loading="lazy" src="../../images/feed-thumbnails/mk6Pdnxf55-256.jpeg" width="512" height="268" srcset="../../images/feed-thumbnails/mk6Pdnxf55-256.jpeg 256w, ../../images/feed-thumbnails/mk6Pdnxf55-512.jpeg 512w" sizes="(min-width: 75rem) 16rem, (min-width: 64rem) 19rem, (min-width: 48rem) 19rem, 8rem"></picture></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2025/12/26">粉砕Attribute</a><div class="ui-feed-item__hatena-count" 
title="はてなブックマーク数"><img src="../../images/hatenabookmark-icon.png" alt="はてなブックマークアイコン" loading="lazy" width="96" height="96"> <span>2</span></div><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">
こんにちは、2025年2月までクラスターでUnityエンジニアをしていたshivadukeです。先日、Cluster Tech Blogに自分も何か書ければよかったな、ということをX（旧・ツイッター）に投稿したところ、htomineさんから「寄稿できますよ」と言っていただけたので、遅ればせながら「粉砕Attribute」について紹介したいと思います。クラスターでは機能開発にFeatureFlagを使用しています。cluster はどのように新機能を並行開発しているのかここでいうFeatureFlagは世間一般におけるFeature Toggleの中のRelease Toggleに対応するもので、機能開発時に作成し、リリース後に「粉砕」します。「粉砕」はクラスター社内用語で、なにかをやめたり無くしたりすることを意味します。ポジティブな意味で使用されるもので、多くの人が日常的に使っていたように思います。Cluster Tech Blogの中でも検索するといくつかヒットします。https://tech-blog.cluster.mu/search?q=粉砕さて、FeatureFlagを使った開発では、FeatureFlagの値によって既存の挙動と新しい挙動を切り替える必要があります。そのため、既存の実装はそのまま残しつつ、新しくV2を実装し、FeatureFlagでV1とV2を切り替えることが多々あります。V2の粒度はメソッド単位の場合もあればクラス単位の場合もあります。例えば、Fooというメソッドがレガシーな実装になっているので、そのV2を作り、FeatureFlag.RefactorFooで切り替えたいとします。実装は以下のようになるでしょう。void Foo() { … // レガシーな実装 }void FooV2() { … // 新しい実装 } // 呼び出し側でフラグで分岐する if (FeatureFlag.RefactorFoo.IsEnable()) { FooV2(); } else { Foo(); } 開発が終わり機能がリリースされたあとは、FeatureFlag.RefactorFooと一緒に使わなくなったFoo関数も一緒に粉砕する方が望ましいです。粉砕対象の数が少ないうちは良いのですが、リファクタの規模が大きくなるにつれて、どれが粉砕対象かパッ
</div><div class="ui-feed-item__date" title="2025-12-26 02:30:00">2日前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2025/12/04"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2025/12/04">AIの新メンバー化を目指して、Claude Code Actionを導入しました</a><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">
「クラスター Advent Calendar 2025」4日目の記事です。こんにちは、クラスター株式会社のソフトウェアエンジニアのid:shiba_yu36です。最近はソフトウェアエンジニアとして機能改善を行うと同時に、AI活用の模索も行っています。社内のAIコーディング導入を加速するため前提知識をまとめたガイドラインを書いた - Cluster Tech Blogに書いたとおり、クラスター株式会社では開発チームの希望者にClaude CodeのMaxもしくはProプランを配っています。これにより開発効率向上の効果が出つつありましたが、「開発チームに新メンバーとして自律的に動くAIが加わった」というレベルにはなっていないという課題を感じていました。この課題を解決するためにClaude Code Actionを導入した取り組みを紹介します。課題：人間がAIに作業を開始させる必要があり、AIの新メンバー化に至っていない解決策：Claude Code Actionを導入し何かのイベントで自動起動するように導入後どのようなワークフローが作られたかまとめ課題：人間がAIに作業を開始させる必要があり、AIの新メンバー化に至っていない希望者にClaude CodeのMaxもしくはProプランを配った後、それぞれのメンバーは手元でClaude Codeを起動して作業していました。Claude Codeを活用するメンバーが増えたことで着々とAIコーディングの環境が整備されており、結果的に各開発者の開発効率は上昇していました。一方で課題を感じていました。Claude Codeを手元で使っているだけでも、作業サポートや壁打ち相手として役立っています。ただ、今のやり方だとAIにどんな細かい作業をしてもらう時にも、まず人間が「〇〇をやろう」と考えてから、AIに作業を開始させる必要があります。これだとAIをツールとして使っているだけに留まり、人間側の思考リソースへ負荷と細かいコンテキストスイッチが発生します。この結果、AIにどれだけ作業をやらせても人間側のボトルネックが大きいと感じていました。このように人間がツールとして細かくAIを管理するのではなく、新メンバーの一員として開発チームに人が増えた時のように、「自律的に動くAIが新メンバーとして加わった状態」を目指したいと考えていました。そうすれ
</div><div class="ui-feed-item__date" title="2025-12-04 02:30:00">24日前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2025/11/18"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2025/11/18">QAフローを最適化し、品質水準を満たしながらリリースまでの期間を最短化する</a><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">
こんにちは、クラスター株式会社のソフトウェアエンジニアのid:shiba_yu36です。最近はソフトウェアエンジニアとして機能改善を行うと同時に、開発フロー改善にも取り組んでいます。開発フロー改善の一環で、QAフローについて課題を感じていました。手厚いQAフローによって障害を最小に抑えていた一方で、機能開発〜リリースまでの期間が長くなってしまっているという課題です。この課題の改善のため、QAフローを最適化し、品質水準を満たしながらリリースまでの期間を最短化する取り組みを行いました。今回はその取り組みについて紹介します。QAと開発速度のバランスに苦労している方や、QAフローを新しく始めたい方の参考になれば嬉しいです。背景: クラスターの事業とQAの関係これまでのQAの課題課題1: QAによって開発チームのコード変更からリリースまでの期間が長くなってしまう課題2: リリースQAとコンテンツQA両方が必要でQAチームの負荷が高い改善全体方針と改善後のフローサービスリリースの改善後のQAフローに到達するために何を行なったか1. 事業の特性を理解して達成したい品質基準を決める2. 開発フローの制約条件を理解する3. QAフローおよびその周辺の開発フローを設計する4. QAメンバーと一緒に、regression QAのテストケースを決め直す5. 決定した最終形に向けて移行計画を作り、徐々に移行していく移行後の結果まとめ背景: クラスターの事業とQAの関係QAフロー改善を説明する前の前提知識として、まずクラスターにおける事業とQAの関係について、簡単に紹介します。クラスター株式会社はメタバースプラットフォームである「cluster」というサービスを一般ユーザー向けに提供しています。このサービスでは、ユーザーは3D空間へ自由に入ることができ、複数人が好きなアバターでリアルタイムに遊べます。また、その3D空間自体もワールドクラフトという機能やUnityを活用して、ユーザーが自由に作成しアップロードできます。ばくだんさんが作成した「ちっちゃい街」というワールドで複数人が好きなアバターでリアルタイムに遊んでいる様子引用元URLUnityでのワールド制作の様子一般ユーザー向けにサービス提供している以外に、メタバースを活用したい企業様向けに法人向けメタバース事業を行っています。色々な活用があ
</div><div class="ui-feed-item__date" title="2025-11-18 02:30:00">1ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2025/10/27"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2025/10/27">Webリリースフローの全面刷新 - 頻度を上げて改善を回しやすく</a><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">
クラスターでWebフロントエンドをメインに担当しているmt_blue81です。週次リリースから日次リリースへ移行を進め、GitHub Actionsのワークフローを全面的に見直しました。この記事ではその知見と今後の展望を紹介します。1. なぜ変えたのか自動化されていたが、さらなる加速を目指してclusterは、iOS・Androidなどのモバイルアプリ・PCアプリ（Windows・Mac）・VR等マルチデバイスに対応したアプリであり、毎週アプリのアップデートを行っています。各プラットフォームでリリースタイミングを揃えることで、ユーザー体験の一貫性を保ち、リリースノートの管理も簡素化できます。QAフェーズも共通化でき、品質保証の効率が高められていました。しかしその一方で、Web特有の課題も生まれていました。Webプラットフォームの特性はデプロイの柔軟性にあります。モバイルアプリのようなストア審査も不要で、サーバーへのデプロイだけで即座にユーザーに届けられます。にもかかわらず、週1回のリリースサイクルに縛られていたため、以下のような状況が発生していました。軽微な改善が1週間待機状態になるバグ修正の反映が遅れる1A/Bテストや施策の高速なイテレーションが困難「改善サイクルを回しやすくする」。これが今回のリリースフロー刷新の最大の目的でした。2「加速していく」カルチャーが後押しクラスターは 「加速していく」 を大切な価値観として掲げています。この文化が、既存のやり方を変える挑戦を後押ししました。2025年8月中旬、Design Doc 3 の作成を始めました。そこからおよそ1ヶ月の検討期間を経て、9月中旬に新しいデイリーリリースフローの運用を開始することになります。2. どう変えたのかDesign Docから始める段階的アプローチリリースフローの刷新という大きな変更を進めるにあたり、まずDesign Docの作成から始めました。これは思考実験として全体像を整理し、関係者との合意形成を図るためです。Design Docを作成後、GitHub Actions有識者やバックエンドエンジニアにレビューを依頼しました。このレビュープロセスを通じて、以下のような課題や懸念点が明らかになりました。他プラットフォームとのバージョン管理の整合性リリースノートの扱い方ロールバック手順の明確化セ
</div><div class="ui-feed-item__date" title="2025-10-27 02:30:00">2ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2025/10/21"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2025/10/21">探索時間を最大5倍、滞在時間を最大1.7倍に増加させるAIエージェントのひみつ</a><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">
🌅 はじめに🧭どういうもの？🎯どんな効果があった？⚙️どういう仕組み？🧠AIエージェントの思考 (Agent Core)📝AIエージェントの思考処理1️⃣イベント待機2️⃣LLMで行動決定3️⃣アクション実行4️⃣プレイヤーに​応答する​🛡️実運用でのセキュリティ👾プロンプトインジェクション🔹実験環境でのプロンプトインジェクションの実例🔥攻撃は受ける前提で考える🚨早期検出・被害軽減に注力する🚀まとめ📚参考文献🌅 はじめにこんにちは、メタバース研究所 シニアリサーチエンジニアのElizaです。メタバース研究所がどんな組織かについては オウンドメディア の記事を見てみてくださいね。広いゲーム空間やメタバースを歩いていると「どこに何があるのか分からない」「案内してくれる人がほしい」と思うことはありませんか？私たちはAIエージェント技術「AI Agent Flex」を開発しました。ユーザーのリクエストに応じて、会話しながら目的地まで案内してくれるAIキャラクター。ただのガイドではなく、一緒に旅する仲間のような存在です。この記事では「AI Agent Flex」の仕組みや効果について解説します。🧭どういうもの？このAIエージェントは他のプレイヤーと同じようにclusterのワールドにログインします。例えばカフェのワールドでユーザーが「テラス席に行きたい」と話しかけると、AIエージェントは「テラス席へ向かいましょう！」と答えて案内してくれます。他にもワールドのこだわりポイントを教えてくれたり、雑談に応じたりしてくれます。今回の記事では詳しく紹介しませんが、AIエージェントのキャラクターデザインはユーザーとの交流で重要なポイントになります。そこで、今回はclusterのデザインチームと連携して、妖精キャラクター「メリア」が生まれました。そのあたりは、ゲーム開発者向けカンファレンス「CEDEC 2025」で発表した内容をまとめた4Gamer.netさんの記事でまとめていただいているので、興味のある方はこちらの記事もご覧になってみてください。🎯どんな効果があった？メタバース cluster 上で約200人に試してもらったところ、次のような効果が確認できました。探索時間が最大5倍に増加[1]滞在時間が最大1.7倍に増加[1]「孤独感がなくなった」「一緒に探...
</div><div class="ui-feed-item__date" title="2025-10-21 02:30:00">2ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2025/10/07"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2025/10/07">Claude Codeのカスタムスラッシュコマンドをマスターして開発効率を上げよう</a><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">
こんにちは！クラスター株式会社でソフトウェアエンジニアをしている@TAAT626です。最近クラスターの開発チームで行っているAI勉強会で「カスタムスラッシュコマンドをマスターして開発効率を上げよう」という発表をしましたので、その発表資料を共有しながらClaude Codeのカスタムスラッシュコマンドについて紹介したいと思います。発表資料はこちら speakerdeck.comスラッシュコマンドとは？組み込みスラッシュコマンド/agents/clear/compact/mcp/memoryカスタムスラッシュコマンドを作る構文プロジェクトコマンド個人コマンド引数$ARGUMENTS$1, $2プロンプトテンプレートBashコマンド実行フロントマターカスタムスラッシュコマンドの活用例Draft PRを作るセッションの内容をもとに調査レポートを作るビルド&amp;実行（iOS）Renovateによるライブラリ更新の妥当性チェックまとめさいごにスラッシュコマンドとは？スラッシュコマンドとは、Claude Codeのインタラクティブセッション中に、/で始まるコマンドを入力することで、特定の機能を素早く実行できる仕組みです。公式の組み込みのスラッシュコマンドも多く用意されています。/add-dir /agents /bug /clear /compact /config /cost /doctor /help /init /login /logout /mcp /memory /model /permissions /pr_comments /review /status /terminal-setup /vim組み込みスラッシュコマンド/agents専門的なタスク用のサブエージェントを作成・管理するコマンドで、対話的に進めていくとサブエージェントを作成できます。/clear会話履歴（コンテキストウィンドウ）をクリアするコマンド。作業の精度を上げる・パフォーマンス低下を防ぐためにも、タスクごとにクリアさせると良いでしょう。/compact会話を圧縮するコマンドで、引数でフォーカスする内容を指定できます。/mcpMCPサーバー接続とOAuth認証を管理するコマンド/memoryProjectやUserのCLAUDE.mdメモリファイルを編集するコマンドで、直接メモリファイルを開いてくれるの
</div><div class="ui-feed-item__date" title="2025-10-07 02:30:00">3ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2025/10/01"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2025/10/01">Claude Code Hooksで個人iOSアプリの開発サイクルを効率化する</a><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">
こんにちは！クラスター株式会社でクライアントエンジニアをしている@nkjzmです。最近クラスターの開発チーム内で行っているAI勉強会の中で「個人iOSアプリ開発で使っているClaude Code Hooksの紹介」という発表しました。発表では、Claude Code Hooksを使ってコード品質を保つ工夫Hooksでエラーを検知してClaude Code自身に修正させる方法実装が完了したらすぐに手元のiPhoneで確認できる仕組みなどについて紹介しています。Hooksを活用する上での参考になれば幸いです。発表スライドはこちら speakerdeck.comスライドでは口頭で補足している内容もあるので、文章でも紹介したいと思います。個人iOSアプリ開発で使っているClaude Code Hooksの紹介作っているアプリ個人でClaude Codeを使って『毎日ジム』というiOSアプリを作っています。毎日ジムでのClaude Code 活用毎日ジムではClaude Codeが全体の76%くらいのコードを書いています*1。Claude Codeに大量のコードを書いてもらう上で、コード品質を保つための工夫は不可欠です。そこでClaude Code Hooksを活用しています。毎日ジムのContributionsClaude Code HooksとはClaude Codeのライフサイクルの様々な時点で実行されるユーザー定義のシェルコマンドのことです。CLAUDE.md内でもタスクに関する指示を記載することはできますが、LLMによる実行では無視されてしまうことが多々あります。Claude Code HooksはLLMに依存しないため、確実に実行される特徴があります。参考: Claude Code フックを始める - Claude DocsClaude Code Hooksはいつ実行できる？Hooksを設定できるタイミングは、下記のようにいろいろあります。個人的によく使いそうなものを太字にしました。PreToolUse: ツール呼び出しの前に実行（ブロック可能）PostToolUse: ツール呼び出し完了後に実行UserPromptSubmit: ユーザーがプロンプトを送信したときに、Claudeが処理する前に実行Notification: Claude Codeが通知を送信する
</div><div class="ui-feed-item__date" title="2025-10-01 02:30:00">3ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2025/09/05"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2025/09/05">個人CLAUDE.md紹介と設定から学んだこと</a><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">
こんにちは、クラスター株式会社でサーバーサイドをメインに開発しているid:shiba_yu36です。最近クラスターでは開発チーム内でAIに関する勉強会を行なっており、そこで「個人CLAUDE.md紹介と設定から学んだこと」という発表をしました。今回はその発表資料を共有します。発表資料はこちら。 speakerdeck.com発表した内容を、以下テキストに書き出しておきます。今回話す内容個人のCLAUDE.mdに入っている内容をテーマに、なぜ入れたか・効果（感覚値）を説明最後に設定を通して学んだことを紹介個人CLAUDE.mdの紹介実際の設定は https://github.com/shibayu36/config-file/.claude/CLAUDE.md のとおりです。振る舞い指定## Conversation Guidelines- 常に日本語で会話する- @~/.claude/CHARACTER.md に書かれたキャラクターとして、口調だけ変えて振る舞ってくださいなぜキャラクター指定を入れてテンション上げたい効果ちゃんとキャラクターを演じる。途中で忘れることがあり、コンテキスト増えすぎた目安にし、セッションを作り直すこともあるTipsキャラクター指定は分量が多く、CLAUDE.mdに直接書くと読みにくくなる。別ファイルで管理し、@インポートをしている。プログラミングと同じモジュール化のイメージ迎合ではなく批判的に## 指示について指示をする側も人間で間違うことがあります。こちらの指示を批判的に見て、間違っていることは指摘してください。指示された内容についてそのまま鵜呑みにせず、背景や説明不足だと感じたら確認をとってください。指示された案以外にも他に案がないかも考えて、良さそうな案があれば提案してください。なぜ人間に迎合してほしくない。批判的に間違いを指定してほしい効果全然聞いてくれない...どうしたらいいんや。知見募集正しい現在日時## 最近・直近など、現在日時を取り扱う場合- 必ず `date` コマンドを使って、現在日時を取得することなぜ「今日の話をまとめて」と言うと、LLMの学習最終日付を使いがちだった。今のClaude 4 Opus/Sonnetだと2025/01を出すことがあった。効果かなり効果的。謎日付を使うことが減った複数案での設計指針検討##
</div><div class="ui-feed-item__date" title="2025-09-05 02:30:00">4ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2025/07/25"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2025/07/25">Swift 6移行対応はこう乗り切った！cluster iOSアプリの事例</a><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">
はじめになぜSwift 6移行対応するのか？Strict Concurrency Checkingで並行処理の安全性を厳密にチェックさせるUpcoming Featureで今後の機能を先取りするPoCで対応方針を決めるレイヤーごとに移行を行う思わぬ落とし穴Actor化によるモックへの影響Actor化によるテストコードへの影響Protocol Bufferで生成されたコードの警告対応QASwift 6移行対応を終えてみておわりに参考はじめにこんにちは。クラスター株式会社でソフトウェアエンジニアをしているTAATです。Swift 6がリリースされてもうすぐ1年、最近は移行対応の知見や事例も多く見かけるようになりました。clusterでも去年末からSwift 6移行対応の計画を立て始め、半年以上かけて移行作業を進めてきました。そして6月末、ついにSwift 6への完全移行を達成しました！この記事では、clusterのiOSアプリにおけるSwift 6移行対応の実践例を紹介します。どのように計画を立て、どんな課題に直面し、どう解決したのか。そして移行によって得られたメリットについて、具体的な事例を交えながらお伝えします。なぜSwift 6移行対応するのか？Swift 6はXcode 16とともにリリースされたSwiftの最新メジャーバージョンで、Strict Concurrency Checkingによる完全なデータ競合の防止が特徴です。これにより、マルチスレッド環境でデータ競合を引き起こす可能性のあるコードはビルド時点でエラーとなり、実行時のクラッシュや予期しない動作を未然に防ぐことができます。コードの安全性向上は開発効率の改善にも繋がり、プロダクトの品質向上が期待できます。一方で、既存コードの多くがビルドエラーとなる可能性があり、プロジェクト全体に影響が及ぶ大規模な移行作業となることが予想されました。そのため、まずは情報収集と移行計画を立てるところから着手し、段階的な移行戦略を検討することにしました。ちなみに、WWDC24のSwift 6へのアプリの移行というセッションで移行方法について紹介されているので、こちらも見ておくと良さそうです。Strict Concurrency Checkingで並行処理の安全性を厳密にチェックさせるStrict Concurrency C
</div><div class="ui-feed-item__date" title="2025-07-25 02:00:00">5ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2025/07/17"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2025/07/17">社内のAIコーディング導入を加速するため前提知識をまとめたガイドラインを書いた</a><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">
こんにちは、クラスター株式会社でサーバーサイドをメインに開発しているid:shiba_yu36です。クラスター株式会社は2025/07から開発チームのエンジニア希望者にClaude Maxを配り、Claude CodeなどによるAIコーディングをどんどん取り入れる決定をしました。しかしAIコーディングをいきなり行おうとしても、AIやエージェントによるコーディングの前提知識が足りず、使いこなせない・AIコーディングは使えないと判断を下してしまう可能性があります。そこで導入を加速するため、前提となる知識をまとめたAIコーディングガイドラインを書き、Claude Max導入直後に開発チームへ展開することにしました。今回はこのガイドライン内容をそのまま共有しようと思います。AIコーディングの導入の参考になれば嬉しいです。また、間違っている部分もあると思うので識者の方は指摘してもらえると助かります（なんなら指摘たくさんもらえたら改善できて嬉しい）。では早速AIコーディングガイドラインを公開します。なおクラスターではモノレポを使った開発をしているため、その前提のドキュメントとなっています。AIコーディングを活用する上での前提知識まずAIコーディングの前提が日々進化してるので、ガイドラインもすぐに陳腐化する可能性があることを認識しておくコーディングエージェントとしてはClaude Codeが設定なしで良い動きをする &amp; Claude Opus 4モデルコーディング性能が非常に高いため話題になっているそのため、多めに設定が必要なコーディングエージェント &amp; コーディング性能低めのモデルを使うと、逆にAIコーディングの限界を見誤るので注意Claude Code + Opus 4で知識がやたら多く処理スピードが異常に速い経験3~4年目エンジニアくらいの活躍をする。ただし、AIが得意な領域を任せる、作業スコープを限定する、渡すプロンプトを工夫することで性能が飛躍的に向上しうる現在のAIコーディングでは、安全面の対策をした上でコーディングエージェントの自律性を上げ、完了条件に向けて自動で動けるように整えることが大切AIが得意な領域、苦手な領域（今後のAIの進化によって不得意なものが普通にできる可能性もあるので色々試してみて欲しい）経験3〜4年目のエンジニア、かつGitHubやWeb上に出や
</div><div class="ui-feed-item__date" title="2025-07-17 02:00:00">5ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2025/02/17"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2025/02/17">「LLMを利用したプログラム自動生成の精度評価」が学術論文誌 IEEE Accessに掲載！研究の概要を紹介します</a><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">
こんにちは。昨年 cluster ユーザーの皆さまに実験に協力いただいた、LLMを利用したプログラム自動生成の精度評価 についての研究結果がこの度、学術論文誌の IEEE Access に掲載されました。実験に参加いただいた皆さま、ご協力ありがとうございました！この研究ではClusterScriptという、メタバースプラットフォーム「cluster」で開発しているプログラミング言語によるコードの自動生成についての実験を行いました。ClusterScriptはcluster内の3D空間上にあるオブジェクトの振る舞いを記述することができます。AIに ClusterScript を書いてもらう方法LLMにClusterScriptを書いてもらう公開実験AIに ClusterScript を書いてもらう方法ここ数年で ChatGPT, Gemini, Claude など、ユーザと対話できるインタフェースを備えたAIがたくさん登場しました。これらは大規模言語モデル (Large Language Model, LLM) をベースとしていますが、ClusterScript の生成は概ねどのLLMでもちょっとした工夫で行うことができます。いずれかの LLM の有料版を契約している人も多いかと思いますが、まずは、何も契約してないよ！という人のために google アカウントがあれば利用できる、NotebookLM を利用した、ClusterScript の生成方法について紹介します。NotebookLM は google が提供している AI サービスの1つで、最初に upload したドキュメントについて 様々な質問をすることが出来るサービスです。現在は無料で利用することができます。ドキュメントについての質問ができるというところがポイントで、本稿では最初に以下のファイルをドキュメントとして upload します。cluster_script_definition.txtこのファイルは ClusterScript のTypeScript 定義です。それが一体どんなものかという説明は後ほどするとして、まずはデモを御覧ください。このように、作りたいクラフトアイテムの説明を書くだけで、ClusterScript を解説付きで生成してくれます。もちろんバグのないコードが常に生成されるわけで
</div><div class="ui-feed-item__date" title="2025-02-17 02:30:00">10ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2024/12/27"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2024/12/27">レンダリングを効率化してAIを6倍速にした話</a><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">
こんにちは、クラスター株式会社 メタバース研究所でリサーチエンジニアをしているElizaです。ワールドの素敵な景色を見つけるAI「PanoTree」とは？ワールドサムネイル提案システム「WorldPano 」αテスト中ですなぜAIにワールドの魅力を理解させたいのか？PanoTreeの仕組み全体の流れPanoTreeを構成するモジュールレンダリングサーバー: スクリーンショットを撮影するモジュールScoringNet: 景色の魅力を判断するモジュールHOO: ワールドの探索方法を指示するモジュールどれくらいの処理量？レンダリングサーバーの実装従来手法改善手法改善手法の実装① GPUに優しくないバージョン改善手法の実装② GPUに優しいバージョンどれくらい早くなるの？まとめワールドの素敵な景色を見つけるAI「PanoTree」とは？PanoTreeは撮影スポット自動探索AIの名称で、オープンソースソフトウェアとして公開されています。ワールドサムネイル提案システム「WorldPano 」αテスト中です現在、PanoTreeを活用したサムネイル提案システム「WorldPano」のαテストを行なっています。worldpano.cluster.muなぜAIにワールドの魅力を理解させたいのか？メタバース研究所は「人類の創造力を加速する」というクラスター全体の目標を先導するための組織です。PanoTreeの取り組みは、ワールドの魅力ある景色を探索することを通じて、人を惹きつけるワールドとはとはなにか？をAIに理解させることを目標としています。PanoTreeの仕組みPanoTreeの特徴は、広大なワールドの探索処理量を大幅に削減し、効率的に探索を行えることです。arxivも合わせてご覧ください。全体の流れ探索する範囲を決める探索を指示されたPanoTreeはまずワールド全体のコライダーが存在する領域を計算します。これは探索範囲を大まかにコライダーがある場所(=ものがある場所)に絞り込むためですワールドを2分割する例えば、ワールドを左半分と右半分に分割します。分割を繰り返すことでMinecraftのブロックのように世界が分割されていきますスクリーンショットを撮影する分割したそれぞれの領域の中心からカメラを360度ぐるりと回して12枚スクリーンショットを撮影します景色の魅力を判断する分
</div><div class="ui-feed-item__date" title="2024-12-27 04:30:00">1年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2024/10/18"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2024/10/18">内製のUnity UI Frameworkの開発から導入・運用</a><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">
こんにちは、クラスターでUnityエンジニアをしているsenchaです！本記事ではUnityの内製UI Framework「shiranui」の開発と、導入について紹介いたします。clusterが抱えていたUnityでのUI開発の問題点UI Framework 「shiranui」とはshiranuiでできることshiranuiの基本的な使い方（Sample画面の表示）shiranuiの開発clusterのunityprojectへshiranuiを導入するshiranuiの運用最後にclusterが抱えていたUnityでのUI開発の問題点clusterのUnity UI開発では以下の問題点を抱えていました。UI例: メインメニュー画面画面遷移実装の複雑さ画面遷移を1つの神classが行っており、煩雑になっている遷移履歴の拡張性が乏しく、1つ前の画面までしか保存できていない画面から戻る処理を各画面のenum型で分岐処理しているため、複数の戻り先がある場合に複雑になるUI実装のコストの高さスクロールリストの実装やその他UIコンポーネントとロジックの繋ぎこみの書き方が揃っておらず、各画面・コンポーネントごとにコードを書いてるUI component はほぼ素の uGUIを使用新規画面作成時にコピペコードが多いclass設計が強制されない画面遷移のための animation を都度作成する必要があるviewのコードでアニメーションとロジックが分離できていない上記の問題を解消し「UnityでのUI開発を10倍楽にするぞ！」をコンセプトに始まったのがshiranuiです。third-partyのUI Frameworkを使う選択肢もありましたが、以下のことを理由に内製で作ることに決めました。カスタマイズ性と柔軟性clusterのクライアントアプリではDesktop/Mobile/VRと様々なプラットフォームで開発を行っており、全てのプラットフォームを見据えてUI開発を行えることが理想パフォーマンスの最適化clusterのクライアントアプリでは特にMobileでのパフォーマンスを最適化したい需要があり、パフォーマンスの計測・最適化を行いたいUI Framework 「shiranui」とは内製のUI Frameworkを開発していく上でコードネームをshiranuiと名づけまし
</div><div class="ui-feed-item__date" title="2024-10-18 02:30:00">1年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2024/07/25"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2024/07/25">はじめてのエンジニア新卒研修のために設計した演習教材「Cluster Learning Materials」やサポート体制について</a><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">
クラスターの最古参社員、エンジニアリングマネージャーのmizogucheです。クラスターも創業9周年を迎え、4名の新卒エンジニアを受け入れることになりました。*1今まで中途採用しかしておらず、勉強会はあっても未経験者向けの研修は存在していませんでした。ポテンシャルに期待して採用しているとはいえ、経験の少ない方に、いきなり「いまから仕事を始めてくださ〜い！」と言ってスムーズなタスクの遂行を期待するのは不親切なので、技術研修を設計・実施しました。そこで本記事では、私がリードして設計し、5週間にわたって実施されたエンジニア向けの職種研修についてご紹介します。多様な経験を積んでもらう2ヶ月にわたる新卒研修エンジニア向け職種研修の設計要件成長を加速するためのスキルを身につけることを重視する技術スタックを一通り経験すること実践形式での演習を行うこと演習用教材「Cluster Learning Materials」演習の実装目標や手順、習得してもらいたいスキルについてclusterの実装について学ぶ教材「Cluster Learning Materials」サポート体制Daily meeting振り返りメンターとの1on1Slackでのコミュニケーション研修を終えて多様な経験を積んでもらう2ヶ月にわたる新卒研修新卒研修は全体では2ヶ月。最初に基礎研修、各組織の紹介・社内ルール・ビジネスマナー・ソフトスキルなどの講義が行われ、次に職種毎にわかれた職種研修、最後にチームビルディング研修としてゲーム制作ブートキャンプが行われました。全職種向けの基礎研修とチームビルディング研修は、人事部にて設計・実施されました。今回紹介するのは、この中の職種研修の部分となります。エンジニア向け職種研修の設計要件研修の設計にあたって、クラスターのエンジニアとして求められることを整理し、以下の要件を定めました。成長を加速するためのスキルを身につけることを重視するポテンシャルを顕在化させるため、スキルを素早く習得して使いこなすスキル＝メタスキルを伸ばすことを重視しました。頻度を高めに振り返りをするなどして、PDCAサイクルを回すことを実践できるようにしました。技術スタックを一通り経験することclusterはスマホ・PC・VR機器など対応プラットフォームが多く、使用している技術スタックが多岐に渡っています。研修
</div><div class="ui-feed-item__date" title="2024-07-25 02:30:00">1年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2024/07/19"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2024/07/19">実装前にPMとデータを見ながらランキングアルゴリズムを決定する</a><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">
こんにちは、クラスター株式会社でサーバーサイドをメインに開発している id:shiba_yu36 です。僕は今年の2月にclusterというサービスでウィークリーランキングの機能を担当しました。clusterではユーザーが自由にゲームやアート作品などの3Dコンテンツを作りアップロードでき、そのコンテンツを複数人ですぐ遊べます。その中から人気のコンテンツを探しやすくするため、週間ランキングを開発しました。この機能開発時に、実装をする前にPMとデータを見て試行錯誤しながら、ウィークリーランキングの目的を満たすシンプルなアルゴリズムを決めるという工夫をしました。このやり方によって、最小限の実装工数で目的を満たすランキングアルゴリズム実装を行えました。そこで今回は実装前にどのような流れでアルゴリズムを決定していったかを書いていきたいと思います。同じような機能開発を行っていてPMとどう連携するか悩んでいる人の参考になれば幸いです。ランキングなどのアルゴリズムを考える時の課題感PMと一緒にランキングのありたい姿を明確にする本番データを使って実装前に具体的なランキングの可視化をするPMと複数のアルゴリズムを比較し、初期リリースのアルゴリズムを決定するまとめランキングなどのアルゴリズムを考える時の課題感ランキングやレコメンドなどのアルゴリズムを考える系の機能開発を行う時、よくある失敗は机上の空論のままPMとエンジニアで最高のアルゴリズムを考えようとしてしまうことです。このような失敗を踏むと、実装に非常に多くの時間がかかる一方で、いざリリースしてみると想定と違うものになってしまったということがよく起こります。このような課題感を持っていたため、今回は以下の流れで初期リリースのアルゴリズムを決定していきました。PMと一緒に現在のclusterにおけるウィークリーランキングのありたい姿を明確にする実装前に本番データを使って、いろんなアルゴリズムで具体的にどのようなランキングになりそうかを可視化するPMと一緒にいくつかのアルゴリズムを比較して、ありたい姿と実装コストのバランスを見ながら、初期リリースのアルゴリズムを決定するPMと一緒にランキングのありたい姿を明確にするまず現在のclusterにとってのウィークリーランキングの目的とありたい姿を明確にします。ここがずれると不要な機能を作ってしま
</div><div class="ui-feed-item__date" title="2024-07-19 02:30:00">1年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2024/07/05"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2024/07/05">JenkinsからGitHub Actionsへの移行で実現したマルチプラットフォームCIの改善</a><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">
こんにちは。ソフトウェアエンジニアのすぎしーです。ClientCI WG (Client Continuus Integration Working Group)というclusterのクライアントアプリのCI環境を社内向けに提供するWGのオーナーも務めています。clusterアプリではWindows版(VR含む)、Mac版、Android版、iOS版、MetaQuest版の5つが現在提供されていて、基本的に週次リリースを実施しているため安定したリリースフローが求められます。また、開発版アプリのビルドから検証までの迅速なイテレーションを提供することも、アプリの機能改善や品質向上において重要なポイントとなっています。今回はこれらのリリースフローや開発版アプリのビルドに欠かせないクライアントアプリのCIをJenkinsからGitHub Actionsに移行して、どのような改善を実現したかについて紹介します。用語の紹介背景: Jenkins時代の課題masterノードの障害時のリスクが大きかったリリース版と開発版で同一ジョブを無理矢理に再利用していた弊害1. リリース版と開発版のジョブのキューが同列になっていた弊害2. ビルド対象外のプラットフォームまでキューに積まれていたログ出力がジョブ全体で1つのプレーンテキストに出力されており、失敗原因の調査が大変だったその他の課題GitHub Actionsを選択した理由余談: GitHub Actions以外で候補になったCIツールJenkins + JenkinsfileCircleCIGameCIGitHub Actionsへの移行に伴う懸念事項懸念1: GitHub側の障害によるCIの停止懸念2: GitHub Actionsで発生する従量課金GitHub Actions移行で改善したことmasterノードの運用保守が不要となったワークフローのレシピがyml定義のリビジョン管理となり、コードレビューを通すフローになったReusable Workflowsの活用により、プラットフォームごとのワークフローが再利用しやすくなった実行キューが開発版とリリース版で分割されたワークフロー失敗時の調査が捗るようになったワークフローで承認フローが導入できるようになったまとめ用語の紹介CIを説明するにあたり多用することになる用語について、予め
</div><div class="ui-feed-item__date" title="2024-07-05 02:30:00">1年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2024/06/28"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2024/06/28">オンラインマルチプレイのUnityクライアントの負荷試験環境</a><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">
はじめにアーキテクチャ負荷試験モードオンラインマルチプレイのテストとデバッグの難しさおわりにはじめにこんにちは、クラスター株式会社のソフトウェアエンジニアのsotanです。今回はclusterのUnityクライアント開発に使われている負荷試験環境について紹介します。clusterは、バーチャル空間で開催されるイベントに参加したり、クリエイターの方々が制作したワールド（= バーチャル空間）で遊んだりすることができるプラットフォームです。ワールドでは25人（ロビーのみ50人）、イベントでは100人が同時に1つの空間に集まることができます。負荷試験環境は「ワールド・イベント会場に多くのユーザーが集まっている状況」を再現して、そのような状況で発生する問題の再現確認・原因調査・改善結果確認などに使われているものです。アーキテクチャ一般的には負荷試験用のツール・フレームワークを活用した環境を構築するケースが多いと思いますが、clusterのUnityクライアント開発では、現状、Windows版アプリをAmazon EC2インスタンス上で実行するというシンプルな方式を採用しています。GitHub Actionsのワークフローによって、Amazon S3に存在するビルドファイルや設定ファイルの確認、新しいジョブの実行準備、EC2フリートの新規作成が実行されます。EC2インスタンスが起動すると、必要なファイルをS3からダウンロードして、clusterアプリを負荷試験モードで起動するスクリプトが自動的に実行されます。ワークフローの入力パラメーターとして与えられるワールド・イベント会場に自動入室させるクライアント数負荷試験の実行時間によって、EC2インスタンスの数や終了時刻が設定されます。また、入力パラメーターとして負荷試験用クライアントとして使われるビルドワールド・イベント会場のIDアバターの種類なども設定するようになっていて、複数の異なる条件の負荷試験を同時並行で進行することができます。特定の機能・不具合・パフォーマンス問題などに合わせた状況・条件を設定して負荷試験を進行することができます。負荷試験モードclusterの開発版ビルドでは負荷試験用クライアントとして動作するモードが有効になっています。通常モードでは、ログイン、アバター選択、ワールド・イベント会場への入室などを行うために
</div><div class="ui-feed-item__date" title="2024-06-28 02:30:00">1年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2024/06/21"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2024/06/21">Unityクライアントのパフォーマンス改善の進め方</a><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">
はじめにパフォーマンス改善についての参考文献実機計測フィーチャーフラグ計測・プロファイリング効果見積効果計測おわりにはじめにこんにちは、クラスター株式会社のソフトウェアエンジニアのsotanです。今回はUnityクライアントのパフォーマンス改善の取り組みについて紹介します。ユーザーの皆さまに快適な体験を提供できるように、新機能の開発や既存機能の拡張・修正と並行して、パフォーマンス改善に取り組んでいます。具体的な改善点や改善方法を全て紹介することはできないのですが、どのような雰囲気で進めているのかを知ってもらえればと思います。パフォーマンス改善についての参考文献Unityアプリケーションのパフォーマンス改善に必要となる基礎知識やノウハウについては、【Unite 2017 Tokyo】最適化をする前に覚えておきたい技術（docswell, YouTube）Unityパフォーマンスチューニングバイブル（GitHub）などを参考にしています。実機計測clusterはマルチプラットフォームで提供されていて様々なスペックの端末で使われていますが、パフォーマンス改善点を探したり改善結果を確認したりする時は、最低動作環境のスペックの検証用端末を使って、実機で動作確認と計測を行います。現在は、特にモバイル版（Android、iOS）のパフォーマンスを優先的に見ています。Unity Editorを使っている環境と実機のスペックの違いによって計測結果が大きく異なっていたり、特定のプラットフォームの場合のみ実行される処理が比較的大きなボトルネックになっているケースがあったりするため、特別な理由がない限りは必ず実機で動作確認と計測を行います。フィーチャーフラグclusterの開発では複数の機能開発を同時並行で進めるためにフィーチャーフラグ（Feature Flag）が使われており、開発版ビルドでは、まだリリースされていない開発進行中の機能が有効になっています。パフォーマンス改善点を探す時は、リリース版と同じ状態にFeatureFlagを設定した上で計測・プロファイリングして詳細を調査していきます。開発進行中の新機能のパフォーマンスを調査・検証する場合は、その機能のFeatureFlagも有効にしておきます。計測・プロファイリングUnity ProfilerとProfiler Analyzer
</div><div class="ui-feed-item__date" title="2024-06-21 02:30:00">2年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2024/05/17"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2024/05/17">feature flag管理にAWS AppConfigを導入した</a><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">
昔のflag管理AWS AppConfigの導入feature flagの管理feature flagの利用まとめソフトウェアエンジニアの浦川です。clusterではサービス開発にfeature flagが活用されており、常時10+個程度のflagが並行して使われています。これまでflagはgoのコードとしてハードコードされていたのですが、AWS AppConfigを利用してコードを修正することなく動的に変更できるようにしました。昔のflag管理ハードコードされたflagは1つのstructにまとめて定義されていて// feature flagを集めたものtype FeatureFlag struct { IsAvatarXxx bool // アバターを良い感じにする IsEventXxx bool // イベントを良い感じにする // (大量のフラグ)}appが起動する環境(ENV環境変数により識別)によって適切なflagを含んだ設定情報を読みこむようになっていました。// config_dev.govar dev = Config{ Feature: FeatureFlag{ IsAvatarXxx: true, IsEventXxx: true, }}// config_stg.govar stg = Config{ Feature: FeatureFlag{ IsAvatarXxx: true, IsEventXxx: false, }}// config_prd.govar prd = Config{ Feature: FeatureFlag{ IsAvatarXxx: false, IsEventXxx: false, }}// main.govar config Configfunc main() { env = os.Getenv(&quot;ENV&quot;) switch env { case &quot;DEV&quot;: config = dev case &quot;STG&quot;: config = stg case &quot;PRD&quot;: config = prd }}実装での利用イメージif config.Feature.IsEventXxx { // onの場合} else { // offの場合}長らくこの方式で開発を続けていたのですが、徐々に不便さが目立つようになってきました。まず、基本
</div><div class="ui-feed-item__date" title="2024-05-17 02:30:00">2年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2024/04/23"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2024/04/23">社内からの不具合報告をSlackワークフローを使って改善した話</a><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">
こんにちは、プロダクトマネージャー（PM）のいかりです。今回の記事では、プロダクトに対しての社内からの不具合報告のフローを改善した話について紹介します。「社内からプロダクト改善のために色々な声をもらっているけどどう対応しよう……」と困っているような方は何かの参考になるかもしれないので、ぜひ読んでみてください！プロダクトを安心して使ってもらうための「不具合対応」社内からの不具合報告の既存の課題【改善】Slackのワークフローを使って不具合報告フォームを制作結果、良くなったところ社内の多くの人に不具合報告フローの存在を周知できた数ヶ月で50件近くのバグ報告があり、1〜2割はその週に解決連絡の往復回数が減った後からのキャッチアップがしやすくなったまとめプロダクトを安心して使ってもらうための「不具合対応」プロダクトの成長のためには新しい機能の提供や操作性を良くしたり、といった継続的な改善が必要ですが、一方で、快適さを脅かす「不具合」への細やかな対応も必要となります。特に、ユーザーが長い時間を過ごすプラットフォームである「cluster」では、特に重要な要素です。clusterはPC・スマホ・VR機器など複数のプラットフォームに関わっていることや、3D空間、アバターに音声周り、ストア機能、ユーザー自身が3D空間を制作できるUGCツールなど多岐に渡る機能を提供する複雑なプロダクトです。その影響なのか、clusterには多くの不具合が確認されていますが、対応できるものはなるべくスピーディーに対応できるよう日々改善を進めています。clusterには複数人のPMが関わっていますが、私はそうした不具合情報をキャッチアップしたり、プロダクトに関してのコミュニケーションが良くなるように活動しています。最近では、前任者の育休に伴い、clusterの最新情報を伝える公式バーチャルイベント「Hello Cluster」に毎週出演して、ユーザーの皆さんとコミュニケーションを取っています。ユーザーの方々からの不具合報告もこまめに確認しながら対応していますが、今回の記事では直近で取り組んだ「社内からの不具合報告から対応までのフロー」の改善について紹介します。社内からの不具合報告の既存の課題クラスター社では、エンジニアがチームのミーティングをcluster内で行ったり、全社員が集まる「WinSessio
</div><div class="ui-feed-item__date" title="2024-04-23 02:30:00">2年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2024/03/29"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2024/03/29">リアルタイム通信サーバーのEC2インスタンス台数を50%削減した割り当て最適化</a><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">
こんにちは、クラスター株式会社でソフトウェアエンジニアをしているMito Memelです。clusterでは、3D空間内でアバターモーションや音声を同期するためのリアルタイム通信サーバーをAmazon EC2上で動作させています。昨年から今年にかけて、このリアルタイム通信サーバーのリソース割り当て方法を改善し、結果として稼働しているEC2インスタンス台数を半分程度に削減することに成功しました。本記事では、clusterのリアルタイム通信サーバーが抱えていたリソース割り当て効率の課題とその改善手法をご紹介します。背景改善手法まとめ背景アバターモーションや音声の同期のようなリアルタイム性の高い双方向通信を行う、いわゆるリアルタイム通信サーバーをスケールアウトする方法には、よくあるやり方としては2種類あります。1つ目は、Webサーバなどと同じようにアプリケーションサーバをステートレスになるように設計し、バックエンドのPubSubサーバーやKey-Valueストアを用いてサーバー間の状態同期を行う方式です。この方式のメリットはスケールアウトの仕組みがシンプルなことで、Elastic Load BalancingやAWS Auto ScalingといったWebでよく使われているマネージドサービスも比較的利用しやすいです。一方デメリットとしては、複数のサーバーにまたがって状態を同期する必要があるため、部分的にサーバーがダウンした場合にも適切に復旧できるようにしたり、特定の処理を正確に1回だけ行うために実行するサーバーを選出したりなど、状態同期の実装が複雑になりがちです。例えば手で掴めるオブジェクトの所有権を扱う場合などは問題になりやすいですね。2つ目は、状態同期を行う1つの空間(いわゆるゲームセッション)ごとに新たにアプリケーションサーバーを起動して固定で割り当てる方式です。この方式のメリットは、アプリケーションサーバーのインメモリに状態を持つことができ、分散システム特有の難しさを持ち込まずに状態同期を実装できることです。対戦型FPSなどセッション型のゲームではこちらの方式がよく採用されています。clusterでもこちらの方式を採用しています。しかし、clusterは対戦型FPSなどのセッション型ゲームとは違う点があります。それは、1つの空間にどのくらいの人数が同時接続するかが
</div><div class="ui-feed-item__date" title="2024-03-29 02:30:00">2年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2024/01/19"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2024/01/19">Swift Package ManagerでRenovateを利用する際の工夫点</a><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">
はじめにRenovateとは？依存関係をPackageに切り出すGitHub ActionsでPackage.resolvedを更新するおわりにはじめにこんにちは。クラスター株式会社でソフトウェアエンジニアをしているTAATです。今回はクラスターで導入しているRenovateというパッケージの自動更新ツールをSwift Package Managerで利用する上での問題点やその解決策について紹介します。Renovateとは？Renovateとは、パッケージの自動更新を行うツールで、利用するパッケージに新しいバージョンがリリースされると、自動でアップデートのPull Requestを作成してくれて、リリースノートや変更内容も記載してくれます。しかし、Swift Package Managerには対応しているものの、以下の問題点がありました。Package.swift内のパッケージは更新するが、Xcodeプロジェクトから入れたパッケージは更新してくれないPackage.swiftは更新するが、Package.resolvedは更新してくれないissueはあるものの、まだ対応中のようです自分で追いコミットをする必要があり、設定によっては別のレビュアーに承認してもらう必要がある依存関係をPackageに切り出す問題点1を解決するために、Xcodeプロジェクトからパッケージを入れるのではなく、依存するパッケージを管理するためのパッケージを作成してプロジェクトに取り込みます。まずはXcodeメニューのFile &gt; New &gt; Packageから新しいパッケージを追加して（今回はClusterPackage）、配置したいディレクトリでAdd Files to “ターゲット名”から追加したパッケージを選択して取り込みます。新しいパッケージをアプリターゲットのFrameworks, Libraries, and Embedded Contentに追加することで、新しいパッケージで指定したパッケージを利用することができます。テストでも利用する場合は、テストターゲットにも追加する必要があります。次に新しいパッケージのPackage.swiftを編集していきますが、targetsのdependenciesを指定する際のタイポを防ぐために、以下のようにextensionを定義すると良さそうで
</div><div class="ui-feed-item__date" title="2024-01-19 02:30:00">2年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2023/12/28"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2023/12/28">tech blog編集担当になって1年目を振り返る</a><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">
こんにちは。tech blog編集チームのFUKUDAです。今年の4月頃からクラスター社のtech blogの編集を担当することになりました（普段はclusterで活動するクリエイター向けのメディアを運営しています。そちらも振り返り記事を書いているので、ぜひ！）。今年は月に2本、年間で24本の記事を公開するという目標を一応定めていたのですが、その目標はとりあえず達成できたので一安心です。さて、クラスター社のブログは去年まではcluster公式noteで運用されていましたが、今年からこのはてなブログの方に移管しました。この移管と私が関わることになるにあたって、tech blogの運用の仕方の試行をいくつかしました。今回の記事では、その辺りを振り返りつつ、来年の抱負を綴っていきたいと思います。今年の運用で意識したこと「cluster」の技術の全体像が見えるように記事のストックができるように記事のきっかけをつくりにいく記事ネタ出し会「tech blogネタ帳投稿フォーム」をslackのカスタムレスポンスで出す来年やりたいこと記事の執筆者のバリエーションを増やすtech blogの認知度を上げるための地道な活動もする終わりに今年の運用で意識したこと関わって最初に、編集担当であるFUKUDAがこのブログがどういう目的で運営されるものなのかを言語化しました。その上で、今年は下記の試行をしました。編集担当になって最初につくったドキュメント「cluster」の技術の全体像が見えるようにまずは、記事ごとにしっかりとカテゴリを振り分け、サイドバーに表示されるようにしました。「cluster」はスマートフォン、PC、スタンドアローンVR、PCVRとさまざまなデバイスからアクセスできるサービスです。また、ワールドやイベントを検索するにはWebサイトを使用することもあります。つまり、clusterは多岐に渡る技術に支えられたサービスです。この事実は、普段サービスを触っていると気づきにくく（自分が扱っているデバイスに注意がいってしまう）、それによって社外で興味を持っている方にclusterで活躍できる分野が幅広くあることに気づいてもらえないことは機会損失ではないかと考えていました。tech blogをnoteで運用していた際は、記事をカテゴリごとに検索することができませんでした。なので、はてな
</div><div class="ui-feed-item__date" title="2023-12-28 03:00:00">2年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2023/12/27"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2023/12/27">Working Group, 委員会, それから勉強会</a><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">
こんにちは クラスター株式会社で Engineering Manager(EM) をしている kurain です。今日は、クラスターのエンジニアが参加する会議体について紹介します。会議体の作り方について長々続くので、先にまとめを書いておくとエンジニアが自律的に開発プロセスを改善できるように、会議体を3つ定義しましたそれぞれの会議体には権限と責務が明示されていますエンジニアは自ら発案して上記の会議体を開催できるので、業務改善が上手く回っていますという話です。背景会議体を定義するWorking Group委員会勉強会定義による効果もっと効率的で楽しいリモートワークのために背景なぜこのような会議体の定義が大切なのか背景から話を始めましょう。クラスター株式会社はこの3年間で社員数が約6倍になりました（上図は2023年6月時点の資料）。エンジニアの数も6倍……とはいきませんが準ずる増え方をしています。同時に月1回の出社のみが求められるフルリモートに近い働き方が行われています。人が増え、かつ、リモートワークが前提になると何が起こるのか? それは、会議体が増えます! 人が増えているのでコミュニケーションパスは増えますし、リモートワークには立ち話のような概念がないので、つい会議体を設定して人の時間を拘束しがちです。もちろん、そんな状況が放置される訳はなく、ある時期から「〇〇デイリーとか、XX定例とか全部やめましょう！」と社長からよく言われるようになりました。(画像はイメージです)こう言われる側としては「会議体が多いのは良くないが、全部やめていい訳ではない。すると会議体を残すならば何かしらの基準が必要だな。」ということになります。そこでシニアエンジニアの:kyokomi:と一緒に会議体の棚卸しを始め、会議体の基準を作ることにしました。気をつけていたのは以下のようなことです。エンジニアが所属しているチームのデイリーミーティングは全員必須のままにしたいチームを横断した会議体は人数を絞ることができそう 新しい改善や企画を始めるのは誰でもできるようにしたいだからといってミーティングが増えるのは嬉しくない会議体を定義する上記をふまえて、会議体の役割を整理したわけですが、まずは名前を3つに絞りました。Working Group(WG), 委員会, 勉強会 の3つです。いままでは、会議体ごとにバラ
</div><div class="ui-feed-item__date" title="2023-12-27 06:00:00">2年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2023/12/26"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2023/12/26">無停止で機能開発を継続した、clusterのシステム分割事例</a><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">
クラスター株式会社でSoftware Engineerをしている thara です。私たちは今年、clusterのシステム分割という重要なプロジェクトを完了しました。この取り組みは、私たちのメタバースプラットフォームの進化と持続可能な成長にとって欠かせないものでした。背景解決策システム分離プロジェクトにおける課題課題を解消するための実施手法Gatewayによる隔離dual writeによる段階的移行/dual readによる差分検証状態スナップショットによる差分検証諦めの局所化分離プロジェクトの結果と反省今後の展望背景clusterがリリースされて6年が経過しました。prtimes.jp当初はバーチャルイベントプラットフォームとして展開されていましたが、2020年にはスマホアプリをリリースし、フレンド機能などのSNS機能の他、常設のCGコンテンツであるワールド機能に加え、Unityで作成したマルチプレイゲームを公開できるようにもなりました。prtimes.jp2022年には、cluster上で誰でもワールドを作成できる「ワールドクラフト」がリリースされます。prtimes.jpこのように、clusterはリリースして以降、バーチャル空間上の体験を提供するという軸はそのままに、その体験を形を変えて提供してきた経緯があります。これに伴い、大きく2点の課題が出てきました。まずは、システムの複雑性の増大です。clusterはroom1 内でリアルタイムに3D空間を共有できるinroom領域と、アカウント管理やroomへの入室するまでの体験などを担うoutroom領域に大きく分かれていますが、双方ともにプロダクトの状況に応じて機能が増減しています。2 これに伴い、内部はその状況に応じた形に変わっていくのですが、ある箇所の変更の影響が他の箇所に出てincidentに繋がったり、ある箇所の変更の影響が大きくて手が出せない、みたいなことが増えてきました。2つ目として、システム理解の認知負荷の増大が無視できなくなってきた、という点があります。クラスターは年間100人以上採用するなど、急激に組織規模が拡大しています。note.comこの人数は全社スコープですが、当然所属するソフトウェアエンジニアの人数も急速に拡大し、その勢いはいまだに衰えていません。また、2024年卒の新卒採用も開始し
</div><div class="ui-feed-item__date" title="2023-12-26 03:00:00">2年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2023/12/25"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2023/12/25">clusterのログの検索、可視化の取り組み</a><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">
メタバースプラットフォーム「cluster」のインフラチームの佐藤です。今回はclusterではログをどのように扱っているかをインフラ観点からご紹介します。ログは安定したサービス提供を行うために役立つ基本的な要素です。初期の素朴な構成で発生した問題点や、プロダクトの成長に合わせて、より活用しやすいように改善を行なった結果など成果の一部を公開したいと思います。CloudWatch Logsの限界ログのインフラ構成の改善構成の説明ログのファイルへの永続化までの部分S3から検索エンジンに送る部分ログの検索、可視化の改善まとめCloudWatch Logsの限界現状のログの構成について説明する前に過去のログの運用方法とその課題点などから説明します。以前は以下のように各コンポーネントからCloud WatchLogsにログを送り、何か問題が発生した場合の調査などはCloudWatch Logsに対して直接クエリを実行して調査を行っていました。インフラ構成としては以下の図の通りです。AWSの各種サービスの代表的な用途としてはECSはAPIサーバーやバッチ処理、EC2はroom server(注1)、Lambdaはファイルのアップロードをトリガーにした処理などを行なっています。注1: clusterでは3D空間内でのクライアント間の同期に内製のroom serverというサーバーを使っています。詳細はこちらの投稿を参照ください。 https://tech-blog.cluster.mu/entry/2022/04/13/143058シンプルで信頼性の高い方法ですが一方でCloudWatch Logsはトラブル時などに参照する利用が多いため、都度ログを絞り込むためのクエリの書き方を調べる必要があったり、誰でも利用可能な状態とは言えませんでした。プロダクトを構成するコンポーネントが増え、ログの量、種類共に増加し、伴ってエンジニアも増えてきた際にこのような構成ではトラブル時の対応に時間がかかってしまう問題点が出てきました。ログのインフラ構成の改善インフラチームでは前述の課題を解決するためログ関連のインフラ構成を改善することにしました。新しい仕組みで以下の要求を満たすことを目標としました。新しいコンポーネントを追加した際のログの管理が容易であることログが検索しやすい状態になっていること前
</div><div class="ui-feed-item__date" title="2023-12-25 03:00:00">2年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2023/12/07"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2023/12/07">クラスター Advent Calendar 2023はじまっています！</a><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">こんにちは、メタバースプラットフォーム「cluster」を開発・運営するクラスター株式会社です。今年もクラスター社のAdvent Calendarがはじまっています！バーチャル空間やアバター、デザイン、ワールド制作、働き方、組織開発などさまざまなトピックの記事が投稿される予定なので、ぜひご覧ください！qiita.com</div><div class="ui-feed-item__date" title="2023-12-07 06:54:10">2年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2023/11/30"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" 
loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2023/11/30">Managed Stripping Levelを変更する隙にRoslyn Analyzerを導入した話</a><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">
はじめにきっかけManaged Stripping Levelを変更する際の課題Reflection APIを使っているコードが動かなくなる既存のワールドが動作しなくなる並行開発中のコードが壊れるRoslyn Analyzerを導入するRoslyn Analyzerの運用上の問題結果とまとめはじめにこんにちは、クラスター株式会社でソフトウェアエンジニアをしているhomulerです。（入社の経緯は4コマになっているので、ぜひそちらも参照ください）clusterのアプリはUnityで作られているのですが、先日、apkのサイズ対策も兼ねて、ビルド時の設定の一つであるManaged Stripping Levelをlowからmediumに変更しました。必要なコードがstripされてしまう可能性があるため、リリース済みのアプリのManaged Stripping Levelを変更するのは怖い面もありますが、大きな問題もなく実施できました。この記事では、Roslyn Analyzerの導入など、安全に設定変更するために行ったことについて紹介します。きっかけまず、Managed Stripping Levelを変更することになった事情について触れます。クラスターは開発者が増えてきたこともあり、機能開発が加速しており、それに伴ってapkのサイズの増加ペースも加速していました。apkのサイズが150MBを超えるとgoogle playにアップロードできなくなるため、定期的にサイズ削減は行われていたのですが、近いうちにこの制限を超えてしまうことは明らかでした。したがって、抜本的な対策が必要になったのですが、開発に一定時間かかる見込みであり、一方で「apkのサイズを増加させてしまうが、できるだけ早くリリースしたい改修・機能」もあり、抜本的な対策の前に数MBのサイズ削減を行いたい需要がありました。そこで、どのような対策が有効かを調べるために、過去のバージョンでのapkのサイズの内訳を調査したところ、画像等のリソースの増加ペースとコードの増加ペースがほぼ同じぐらいであることが分かりました。libil2cpp.soのサイズを減らす方法はいくつか考えられましたが、当時のManaged Stripping Levelがlowで、不要なコードがそれなりに含まれているという状況で、かつmediumに変
</div><div class="ui-feed-item__date" title="2023-11-30 04:00:00">2年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2023/10/31"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2023/10/31">clusterの加速に耐えうる柔軟な通知機能を追加したはなし</a><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">
はじめに通知機能の概要設計の話さまざまな通知内容に対応するための仕組み未読通知の管理通知をまとめる仕組みその他工夫したこと通知を追加する方法やポイントをドキュメント化データの有効期限を設け、データ量が爆発したときにスムーズに消し込みするための対応ができるようにしたまとめはじめにクラスター株式会社でサーバサイドエンジニアとして働いているえんじです。今回、表題にもあるように通知機能をclusterに追加したため、そのときに工夫した点などについて書いてみようと思います。通知機能は様々なサービスで作ることが多いと思うので、一つの事例として参考になればと思います。通知機能の概要まず、今回clusterに追加した通知機能がどんなものかを解説します。今回追加したのは、ユーザーがアプリ内で特定の画面を開くことで内容を確認できる機能です。執筆時点ではclusterのモバイルアプリを開いた際にタブの中に「通知」というタブがあり、そこをタップすると表示されるものが今回作った内容になります。※アイコンやワールド名はマスクしてありますこの機能は「cluster内で起きた出来事を蓄積し、ユーザーが非同期的に確認できるようにする」という体験を実現するために実装されました。最近では写真フィードを見た他ユーザーからの反応やミッションの達成履歴など、さまざまな内容がこの機能で確認できるようになっています。設計の話今回の機能の中で主要な要件は以下の3点でした。今後追加されるさまざまな通知内容に対応できるようにしておきたい既読/未読の通知をUI上出し分けたい通知内容に応じて、通知が並びすぎないようにまとめられるようにしたい (Xの通知のような挙動)他の細かな要件と合わせて設計した結果、最終的なDB設計は以下のようになりました。全体的な方針として、通知に必要な内容の収集など重たい処理は書き込み時に行い、読み取り時の処理は最小限に抑えることを前提としています。そのため、DB構造も正規化を崩してでも読み取り時にできるだけJOINが必要ないような設計になっています。また、NoSQLなどのRDB以外の利用も検討しましたが、パフォーマンス上懸念がなくコスト的にも優位だったため、RDBを利用することにしました。以降の項目で、主要な要件をどのように解決していったかを掘り下げながら解説させていただきます。さまざまな通知内容
</div><div class="ui-feed-item__date" title="2023-10-31 02:30:00">2年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://tech-blog.cluster.mu/entry/2023/10/24"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://tech-blog.cluster.mu/entry/2023/10/24">「メタバースのデータ分析とはなにをやっているのか」『急成長ベンチャーデータ人材の「アレ」を語る会』登壇レポート</a><div class="ui-feed-item__blog-title">Cluster Tech Blog</div><div class="ui-feed-item__summary">
2023年9月26日に行われた、データアナリストやデータ分析に興味がある方に向けたイベント『10X,ルーデル,cluster｜急成長ベンチャーデータ人材の「アレ」を語る会』tech-track.connpass.comクラスターからは、データアナリストの今井が登壇し「メタバースのデータ分析とはなにをやっているのか」というタイトルで発表しました。この記事では、イベントの登壇内容を要約してお伝えします。今回のイベントの登壇者今井 裕貴 プラットフォーム事業本部 ソフトウェア開発部 データアナリスト2022年4月クラスター入社。データ分析専任のメンバー1人目として参画し、主にデータ分析による意思決定の支援を行いながら、データ可視化ツールの運用や分析基盤の構築など、全社横断のデータ活用促進を広く担当。2022年以前はソーシャルゲームやライブ配信サービスといった領域でデータ分析に従事。既存の知見を十分に活かせる──メタバースのデータ分析の業務内容内製を含めたクラスターの分析用データ基盤未開拓のメタバースならではの分析を切り開いてく面白さ──「ユーザーは高いところが好き」？まとめ既存の知見を十分に活かせる──メタバースのデータ分析の業務内容今回は「メタバースでも既存の知見を活かせること」と「まだまだ未知であるメタバースならではの分析をできる魅力」というトピックに分けて、クラスターでのデータアナリストの仕事を紹介します。メタバースのデータ分析というと、3D空間なので、データがたくさんありそうそもそも機能が多くてできることが多い特別なデータ分析が必要そう特別なデータ基盤とかありそうそもそも何を分析するんだろうとの疑問を持つ方もいらっしゃるかもしれませんが……他のtoCサービスで一般的に行っている分析を行うことが多いです。もちろんメタバースならではの分析もあります。具体的には、よく行う業務として、サービスの運営や開発上必要な事業データの分析・可視化を挙げることができます。ここでの指標は、「アクティブユーザー数」「継続率」「新規ユーザー数」「利用しているプラットフォーム」などです。なので、メタバースだからといって特別目新しい指標というわけではなく、他の会社でも一般的に使われている馴染みのある指標を対象としています。もう一つ業務の例を挙げると、クラスターでは様々な施策や機能追加、法人イベ
</div><div class="ui-feed-item__date" title="2023-10-24 02:30:00">2年前</div></div></div></div></div></section></main><footer role="contentinfo" class="ui-section-footer"><div class="ui-layout-container"><div class="ui-layout-column-6 ui-layout-column-center"><div class="ui-component-cta ui-layout-flex ui-section-footer__site-info"><p class="ui-text-note">このサイトは<br>記事を読んでその企業の技術・カルチャーを知れることや<br>質の高い技術情報を得られることを目的としています。</p><p class="ui-text-note">追加したいブログがある場合は<br><a href="https://github.com/yamadashy/tech-blog-rss-feed#%E3%82%B5%E3%82%A4%E3%83%88%E3%81%AE%E8%BF%BD%E5%8A%A0%E6%96%B9%E6%B3%95" target="_blank">サイトの追加方法</a> をご参照ください。</p></div></div></div><div class="ui-layout-container"><div class="ui-section-footer__layout ui-layout-flex"><p class="ui-section-footer--copyright ui-text-note"><a class="ui-text-note" href="https://github.com/yamadashy/" target="_blank"><small>@yamadashy</small></a></p><a href="https://github.com/yamadashy/tech-blog-rss-feed/" role="link" aria-label="#" 
class="ui-text-note" target="_blank"><small>GitHub</small></a></div></div></footer></body></html>